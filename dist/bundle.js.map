{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://fiber/./src/react/CreateElement/index.js","webpack://fiber/./src/react/DOM/createDOMElement.js","webpack://fiber/./src/react/DOM/index.js","webpack://fiber/./src/react/DOM/updateNodeElement.js","webpack://fiber/./src/react/Misc/Arrayed/index.js","webpack://fiber/./src/react/Misc/CreateStateNode/index.js","webpack://fiber/./src/react/Misc/CreateTaskQueue/index.js","webpack://fiber/./src/react/Misc/GetTag/index.js","webpack://fiber/./src/react/Misc/index.js","webpack://fiber/./src/react/index.js","webpack://fiber/./src/react/reconciliation/index.js","webpack://fiber/webpack/bootstrap","webpack://fiber/webpack/runtime/define property getters","webpack://fiber/webpack/runtime/hasOwnProperty shorthand","webpack://fiber/webpack/runtime/make namespace object","webpack://fiber/./src/index.js"],"sourcesContent":["export default function createElement(type, props, ...children) {\n    const childElements = [].concat(...children).reduce((result, child) => {\n        // true false null 这些值在 react 中是不会渲染到 html 的\n        if (child !== true && child !== false && child !== null) {\n            if (child instanceof Object) {\n                // 如果是一个对象， 则说明原来是一个 <span>aaa</span> 结构，babel已经转换为 vDOM了\n                result.push(child)\n            } else {\n                // 如果是一个文本，需要转换为 vDOM 的结构\n                result.push(createElement('text', {textContent: child}))\n            }\n        }\n        return result\n    }, [])\n    return {\n        type,\n        // 将父级元素传递过来的 children 合并到 props 上\n        props: Object.assign({children: childElements}, props),\n        // children: childElements\n    }\n}\n","import updateNodeElement from \"./updateNodeElement\";\n\nexport default function createDOMElement(virtualDOM){\n    let newElement = null\n    if (virtualDOM.type === 'text') {\n        // 文本节点，调用 createTextElement\n        newElement = document.createTextNode(virtualDOM.props.textContent)\n    } else {\n        // 元素节点，调用 createElement\n        newElement = document.createElement(virtualDOM.type)\n        updateNodeElement(newElement, virtualDOM)\n    }\n\n    return newElement\n}\n","export {default as createDOMElement} from './createDOMElement'\nexport {default as updateNodeElement} from './updateNodeElement'\n","export default function updateNodeElement(newElement, virtualDOM, oldVirtualDOM = {}) {\n    const newProps = virtualDOM.props || {};\n    const oldProps = oldVirtualDOM.props || {};\n    Object.keys(newProps).forEach(propName => {\n        // 获取存储在 props 中的属性值\n        const newPropsValue = newProps[propName]\n        const oldPropsValue = oldProps[propName]\n\n        if (newPropsValue !== oldPropsValue) {\n            // 判断是否是事件属性 onClick => click\n            if (propName.slice(0, 2) === 'on') {\n                // 拿到 事件名称 'click'\n                const eventName = propName.toLowerCase().slice(2);\n                // 给元素添加事件监听\n                newElement.addEventListener(eventName, newPropsValue)\n                // addEventListener 可以添加多个监听\n                // 在此处如果更新元素的事件，要移除之前的事件处理函数\n                if (oldPropsValue) {\n                    newElement.removeEventListener(eventName, oldPropsValue)\n                }\n            } else if (propName === 'value' || propName === 'checked') {\n                // 如果属性名称是表单相关的 value 或这 checked\n                // 通过 ele.value = xx 的方式设置\n                newElement[propName] = newPropsValue\n            } else if (propName !== 'children') {\n                /**\n                 * children 也在 props 属性中，children 会在上一层做处理，\n                 * 这里只对某个 native 元素做处理，添加事件、属性等\n                 */\n\n                // 如果属性名是 className 则给元素设置 class\n                if (propName === 'className') {\n                    newElement.setAttribute('class', newPropsValue)\n                } else {\n                    // 其他熟悉则通过 setAttribute 直接设置\n                    newElement.setAttribute(propName, newPropsValue)\n                }\n            }\n        }\n    })\n\n    /**\n     * 如何判断属性被删除？\n     * 这里有两个 virtualDOM，一个新的一个旧的\n     * 被删除的属性，在 newProps 中没有，oldProps 中存在\n     * 因此，两相对比可以直到某个属性是否被删除\n     * - 如果被删除的属性是事件， removeEventListener 移除之\n     * - 如果被删除的属性是'属性'，removeAttribute 移除之\n     */\n    // 处理属性被删除的情况\n    Object.keys(oldProps).forEach(propName => {\n        const newPropsValue = newProps[propName]\n        const oldPropsValue = oldProps[propName]\n        if (!newPropsValue) {\n            // 属性被删除了\n            if (propName.slice(0, 2) === 'on') {\n                // 如果是事件，移除对应的事件监听\n                const eventName = propName.toLowerCase().slice(2)\n                newElement.removeEventListener(eventName, oldPropsValue)\n            } else if (propName !== 'children') {\n                // 这里一样要排除 children 的情况\n                newElement.removeAttribute(propName)\n            }\n        }\n    })\n}\n","export default arg => Array.isArray(arg) ? arg : [arg];\n","import { createDOMElement } from '../../DOM'\n\nconst createStateNode = (fiber) => {\n    if(fiber.tag === 'host_component'){\n        return createDOMElement(fiber)\n    }\n}\n\nexport default createStateNode\n","const createTaskQueue = () => {\n    const taskQueue = []\n    return {\n        push: item => taskQueue.push(item),\n        pop: () => taskQueue.shift(),\n        isEmpty: () => taskQueue.length === 0\n    }\n}\n\nexport default createTaskQueue\n","const getTag = (vdom) => {\n    if (typeof vdom.type === 'string'){\n        return 'host_component'\n    }\n}\n\nexport default getTag\n","export {default as createTaskQueue} from './CreateTaskQueue'\nexport {default as arrayed} from './Arrayed'\nexport {default as createStateNode} from './CreateStateNode'\nexport {default as getTag} from './GetTag'\n","import createElement from \"./CreateElement\";\nimport {render} from \"./reconciliation\";\n\nexport default {\n    createElement,\n    render\n}\n","import {arrayed, createStateNode, createTaskQueue, getTag} from \"../Misc\";\n\n/**\n * 任务：为每一个节点构建 fiber 对象\n *\n */\nconst taskQueue = createTaskQueue()\n\nlet subTask = null\n\n\nconst getFirstTask = () => {\n    // 获取任务\n    const task = taskQueue.pop()\n    // 返回最外层节点的 fiber 对象\n    return {\n        props: task.props,\n        stateNode: task.dom,\n        tag: 'host_root',\n        effects: [],\n        child: null\n    }\n}\n\n/**\n * fiber 子节点的构建原则\n * - 抵达左侧的叶子节点\n * - 首先判断这个节点有没有同级，有则构建同级，无则退回父级， 重复此步骤，直到回到根节点\n *\n */\n\nconst reconcileChildren = (fiber, children) => {\n    /**\n     * children 可能是对象或者数组\n     * 如果是对象，放入数组中返回\n     */\n    const arrayedChildren = arrayed(children)\n\n    let index = 0\n    let numberOfElements = arrayedChildren.length\n    let element = null\n    let newFiber = null\n    let prevFiber = null\n\n    while (index < numberOfElements) {\n        element = arrayedChildren[index]\n        newFiber = {\n            type: element.type,\n            props: element.props,\n            tag: getTag(element),\n            effects: [],\n            effectTag: 'placement',\n            stateNode: null,\n            parent: fiber\n        }\n        newFiber.stateNode = createStateNode(newFiber)\n        // 在 fiber 中，只有第一个是父级的子节点，其他的子节点都应该是第一个子节点的兄弟节点\n        if (index === 0) {\n            fiber.child = newFiber\n        } else {\n            prevFiber.sibling = newFiber\n        }\n\n        prevFiber = newFiber\n        index++\n    }\n    console.log(fiber)\n}\n\nconst executeTask = fiber => {\n    /**\n     * 构建子级 fiber 对象\n     */\n    reconcileChildren(fiber, fiber.props.children)\n\n    /**\n     * 如果子级存在，返回子级\n     * 将这个子级当作父级，构建这个父级下的子级\n     */\n    if (fiber.child) {\n        return fiber.child\n    }\n\n    let currentExecutingFiber = fiber\n    while (currentExecutingFiber.parent){\n        /**\n         * 没有子节点则判断有无同级\n         * 有同级则返回同级\n         */\n        if (currentExecutingFiber.sibling){\n            return currentExecutingFiber.sibling\n        }\n        // 没有同级之后回退到当前节点的父节点\n        currentExecutingFiber = currentExecutingFiber.parent\n    }\n\n\n}\n\n\nconst workLoop = (deadline) => {\n    /**\n     * 任务不存在，则去队列中获取\n     */\n    if (!subTask) {\n        subTask = getFirstTask()\n    }\n\n    /**\n     * 有任务其浏览器有空闲时间\n     * 调用 executeTask 执行\n     */\n    while (subTask && deadline.timeRemaining() > 1) {\n        subTask = executeTask(subTask)\n    }\n}\n\n\nconst performTask = (deadline) => {\n    // 执行任务\n    workLoop(deadline)\n    // 判断任务是否存在，队列里面是否还有未执行任务\n    // 如果有则让浏览器继续在空闲事件执行\n    if (subTask || !taskQueue.isEmpty()) {\n        requestIdleCallback(performTask)\n    }\n}\n\nexport const render = (element, dom) => {\n    /**\n     * 1、向任务队列中添加任务\n     * 2、指定在浏览器空闲的时候执行\n     *\n     * 任务：通过 vdom 构建 fiber 对象\n     */\n\n    taskQueue.push({\n        dom,\n        props: {children: element}\n    })\n\n    requestIdleCallback(performTask)\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React  from './react'\nimport {render} from \"./react/reconciliation\";\n\nconst root = document.getElementById('root')\n\nconst jsx = (\n    <div>\n        <p>Hello React Fiber</p>\n    </div>\n)\nrender(jsx, root)\n\n\n"],"names":["createElement","type","props","children","childElements","concat","reduce","result","child","Object","push","textContent","assign","updateNodeElement","createDOMElement","virtualDOM","newElement","document","createTextNode","default","oldVirtualDOM","newProps","oldProps","keys","forEach","propName","newPropsValue","oldPropsValue","slice","eventName","toLowerCase","addEventListener","removeEventListener","setAttribute","removeAttribute","arg","Array","isArray","createStateNode","fiber","tag","createTaskQueue","taskQueue","item","pop","shift","isEmpty","length","getTag","vdom","arrayed","render","subTask","getFirstTask","task","stateNode","dom","effects","reconcileChildren","arrayedChildren","index","numberOfElements","element","newFiber","prevFiber","effectTag","parent","sibling","console","log","executeTask","currentExecutingFiber","workLoop","deadline","timeRemaining","performTask","requestIdleCallback","React","root","getElementById","jsx"],"sourceRoot":""}